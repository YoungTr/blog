---
title: 设计原则
date: 2017-10-14 11:19:08
tags: [设计原则]
categories: [设计原则]
---

### 1. 最少知识原则

#### 1.1 原则定义

最少知识（Least Knowledge）原则告诉我们要减少对象之间的交互，只和你的密友谈话。最少知识法则也叫**得墨忒耳法则**（Law of Demeter）

当设计一个系统系统，不管是任何对象，都要注意它所交互的类有哪些以及是如何交互的。

这个原则希望在设计中，不要让太多的类耦合在一起，免得修改系统中一部分，会影响到其他部分。


#### 1.2 原则使用

这个原则提供了一些方针：就任何对象而言，在该对象方法内，我们只应该调用属于以下范围的方法：

* 该对象本身
* 被当做方法的参数而传递进来的对象
* 此方法所创建或实例化的任何对象
* 对象的任何组件（HAS-A 关系）

这些方针告诉我们，如果某个对象是调用其他方法的返回结果，不要调用该对象的方法。

**设计模式中的使用：外观模式**

![least-knowledge](/images/least-knowledge.png)

#### 1.3 优缺点

这个原则减少了对象之间的依赖，会减少软件的维护成本；但是使用这个原则也会导致更多的“包装”类被制造处理。这可能会导致负责度和开发时间的增加，并降低运行时的性能。


### 2. 好莱坞原则

#### 2.1 原则定义

**好莱坞原则：** 别调用(打电话给)我们，我们会调用（打电话给）你。

好莱坞原则可以给我们一种防止“依赖腐败”的方法。当高层组件依赖底层组件，而底层组件又依赖高层组件，而高层组件又依赖侧边组件，而侧边组件又依赖低层组件时，依赖腐败就发生了。

在好莱坞原则之下，我们允许底层组件将自己挂钩到系统上，但是高层组件会决定什么时候和怎样使用这些底层组件。

高层组件对低层组件的方式是“别调用我们，我们会调用你”。

![别调用我们，我们会调用你](/images/high-low.png)

设计模式中的使用：模板方法模式，工厂模式，观察者模式

